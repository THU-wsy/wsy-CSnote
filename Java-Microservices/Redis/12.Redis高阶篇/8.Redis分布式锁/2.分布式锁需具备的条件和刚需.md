# 锁的种类

#### <font color='red'>单机版同一个虚拟机内，</font>synchronized或者Lock接口。

#### <font color='red'>分布式多个不同jvm虚拟机，</font>单机的线程锁机制不再起作用，资源类在不同的服务器之间共享了。

# 一个靠谱的分布式锁需要具备的条件和刚需

- 独占性

  任何时刻有且只能有一个线程持有

- 高可用

  若为redis集群环境下，不能因为某一个节点挂了而出现获取锁和释放锁失败的情况

  高并发请求下，依旧性能OK好使

- 防死锁

  杜绝死锁，必须有超时控制机制或者撤销操作，有个兜底终止跳出方案

- 不乱抢

  防止张冠李戴，不能私底下unlock别人的锁，只能自己加锁自己释放

- 重入性

  同一个节点的同一个线程如果获得锁之后，它也可以再次获取这个锁



